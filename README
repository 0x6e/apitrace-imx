				   D3D Trace


= Copyright =

Copyright 2008-2009 VMware, Inc.

This program is free software: you can redistribute it and/or modify it
under the terms of the GNU Lesser General Public License as published
by the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU Lesser General Public License for more details.

You should have received a copy of the GNU Lesser General Public License
along with this program.  If not, see <http://www.gnu.org/licenses/>.


= About =

Wrapper DLLs to trace D3D8 and D3D9 APIs calls.

Based on the idea from Michael Koch. 

See also:
* http://www.mikoweb.eu/index.php?node=21
* http://www.codeguru.com/cpp/g-m/directx/directx8/article.php/c11453/
* http://doc.51windows.net/Directx9_SDK/?url=/directx9_sdk/graphics/programmingguide/TutorialsAndSamplesAndToolsAndTips/Tools/D3DSpy.htm


= Status =

* Only Direct3D 8 and 9 are supported at the moment.
* It has not been tested with many applications. Bugs may cause the application to crash. 


= Building from source =


== MSVC ==

Requirements:
* Python (tested with version 2.5)
* SCons (tested with 0.98.4)
* Microsoft Visual Studio (tested with 2005 version)
* Microsoft DirectX SDK (tested with August 2007 release)

Instructions:

* Invoke scons:

 scons debug=no dxsdk=C:\DXSDK
 

== MinGW crosscompiler == 

Requirements:
* apt-get install mingw32

Intructions:

  scons platform=windows machine=x86 toolchain=crossmingw opengl32.dll


= Usage =

* Copy d3d8.dll, d3d9.dll, or opengl32.dll and apitrace.xsl to the directory with the application you want to trace.
* Run the application.
* Decompress the output .xml.gz and open the XML with Firefox or Internet Explorer to view the log. On Firefox hover on the arguments to see their contents.
* For long XML files is better to use xml2txt.py script directly on the .xml.gz file, as:

  python xml2txt.py d3d9.xml.gz > d3d9.log

See also http://jrfonseca.blogspot.com/2008/07/tracing-d3d-applications.html
